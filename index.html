<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SundAI Club Demo Moderator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>SundAI Club Demo Moderator</h1>
            <button id="settingsBtn" class="btn-secondary">Settings</button>
        </header>

        <div class="main-content">
            <main id="timerView" class="view active">
            <div id="timerDisplay" class="timer-display">
                <div class="phase-indicator">
                    <div class="phase-title">
                        <span id="currentPhase">READY</span>
                    </div>
                </div>
                <div class="time-display">
                    <span id="timeRemaining">00:00</span>
                </div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
                <div class="controls">
                    <button id="masterRecordBtn" class="btn-record">
                        <span id="recordIcon" class="record-icon">‚óè</span>
                        <span id="recordText">Start Demo</span>
                    </button>
                    <button id="pauseBtn" class="btn-secondary" disabled>
                        <span class="btn-icon">‚è∏Ô∏è</span>
                        <span>Pause</span>
                    </button>
                    <button id="nextPhaseBtn" class="btn-secondary" disabled>
                        <span class="btn-icon">‚è≠Ô∏è</span>
                        <span>Next Phase</span>
                    </button>
                </div>
            </div>

            <div class="phase-info">
                <div class="phase-card">
                    <h3>Demo Phase</h3>
                    <div class="time-editor" data-phase="demo">
                        <span id="demoTimeDisplay" class="time-display-text">2:00</span>
                        <input id="demoTimeInput" class="time-input" type="number" min="1" max="60" style="display: none;">
                        <span class="time-unit" style="display: none;">min</span>
                    </div>
                </div>
                <div class="phase-card">
                    <h3>Questions Phase</h3>
                    <div class="time-editor" data-phase="qa">
                        <span id="qaTimeDisplay" class="time-display-text">2:00</span>
                        <input id="qaTimeInput" class="time-input" type="number" min="1" max="60" style="display: none;">
                        <span class="time-unit" style="display: none;">min</span>
                    </div>
                </div>
            </div>

            <div class="recording-section">
                <div class="video-preview">
                    <video id="videoPreview" autoplay muted></video>
                    <div class="camera-selection">
                        <label for="cameraSelect" class="camera-label">Camera:</label>
                        <select id="cameraSelect" class="camera-dropdown">
                            <option value="">Loading cameras...</option>
                        </select>
                    </div>
                    <div class="recording-status">
                        <div id="recordingIndicator" class="recording-dot"></div>
                        <span id="recordingStatus">Ready to Start Demo</span>
                    </div>
                </div>
                
                <!-- Generated Question Display - Now positioned to the right of camera -->
                <div id="questionDisplay" class="question-display" style="display: none;">
                    <div class="question-header">
                        <h3>üí° Suggested Question</h3>
                        <div class="question-actions">
                            <button id="readQuestionBtn" class="btn-secondary-small" title="Read question aloud">üîä</button>
                            <button id="dismissQuestionBtn" class="btn-secondary-small">√ó</button>
                        </div>
                    </div>
                    <div class="question-content">
                        <p id="generatedQuestion"></p>
                    </div>
                    <div class="question-footer">
                        <small id="questionSource">Generated by AI based on demo transcript</small>
                    </div>
                </div>
            </div>
        </main>

        <aside class="transcript-panel">
            <div class="transcript-header">
                <h3>Live Transcript</h3>
                <div class="transcript-controls">
                    <button id="clearTranscriptBtn" class="btn-secondary-small">Clear</button>
                </div>
            </div>
            <div class="mic-selection">
                <label for="micSelect" class="mic-label">Microphone:</label>
                <select id="micSelect" class="mic-dropdown">
                    <option value="">Loading microphones...</option>
                </select>
            </div>
            <div class="transcript-content">
                <div id="transcriptMessages" class="transcript-messages">
                    <div class="transcript-placeholder">
                        <p>Click "Start Demo" to begin recording with live transcription</p>
                        <p>Local Whisper model will process speech offline</p>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <main id="settingsView" class="view">
            <div class="settings-header">
                <button id="backToTimerBtn" class="btn-secondary back-btn">‚Üê Back</button>
                <h1>Settings</h1>
                <div class="header-spacer"></div>
            </div>
            <div class="settings-form">
                
                <div class="settings-section">
                    <h3>Timer Settings</h3>
                    <div class="form-group">
                        <label for="demoMinutes">Demo Time (minutes):</label>
                        <input type="number" id="demoMinutes" min="1" max="60" value="2">
                    </div>

                    <div class="form-group">
                        <label for="qaMinutes">Questions Time (minutes):</label>
                        <input type="number" id="qaMinutes" min="1" max="60" value="2">
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Transcription Settings</h3>
                    <div class="form-group">
                        <label>Local Whisper Model:</label>
                        <div id="whisperStatus" class="whisper-status">
                            <span id="whisperStatusText">Checking model status...</span>
                        </div>
                        <small class="form-help">Uses local Whisper model for offline speech-to-text</small>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Text-to-Speech Settings</h3>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="ttsEnabled"> Enable timer announcements
                        </label>
                        <small class="form-help">Announces timer start, phase changes, and completion</small>
                    </div>
                    <div class="form-group">
                        <label for="ttsVoice">Voice:</label>
                        <select id="ttsVoice">
                            <option value="Samantha">Samantha (Default)</option>
                            <option value="Alex">Alex</option>
                            <option value="Daniel">Daniel (British)</option>
                            <option value="Fiona">Fiona (Scottish)</option>
                            <option value="Karen">Karen (Australian)</option>
                            <option value="Moira">Moira (Irish)</option>
                            <option value="Tessa">Tessa (South African)</option>
                            <option value="Veena">Veena (Indian)</option>
                            <option value="Albert">Albert</option>
                            <option value="Fred">Fred</option>
                            <option value="Ralph">Ralph</option>
                            <option value="Kathy">Kathy</option>
                        </select>
                        <small class="form-help">Choose from high-quality macOS system voices</small>
                    </div>
                </div>

                <div class="form-actions">
                    <button id="saveSettingsBtn" class="btn-primary">Save Settings</button>
                    <button id="cancelSettingsBtn" class="btn-secondary">Cancel</button>
                </div>
            </div>
        </main>
    </div>

    <script src="renderer.js"></script>
</body>
</html>